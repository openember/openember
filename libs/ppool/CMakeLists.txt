project(ppool)

set( PPOOL_SRCS 
    ppool.c
    ppool_queue.c
    ppool_errno.c
)

OPENEMBER_ADD_STATIC_LIBRARY (TARGET ${PROJECT_NAME} 
    SRCS     ${PPOOL_SRCS}
    LIBS     ${OPENEMBER_EXTERNAL_LIBRARIES} 
    INCLUDES ${OPENEMBER_INCLUDE_DIRS} ${CMAKE_CURRENT_SOURCE_DIR}
    DESTINATION lib
)

if(EXAMPLES_ENABLED)
OPENEMBER_ADD_EXECUTABLE(TARGET ${PROJECT_NAME}-example
    SRCS     ${PPOOL_SRCS} example.c
    LIBS     
    INCLUDES ${OPENEMBER_INCLUDE_DIRS} ${CMAKE_CURRENT_SOURCE_DIR}
    DESTINATION bin 
)
endif()