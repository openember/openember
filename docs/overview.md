# Overview



- é¡¹ç›®åï¼šOpenEmber
- å®šä½ï¼šè½»é‡çº§ã€åˆ†å¸ƒå¼ã€åµŒå…¥å¼ç³»ç»Ÿæ¡†æ¶

> OpenEmber æ˜¯ä¸€ä¸ªé¢å‘åµŒå…¥å¼ä¸è¾¹ç¼˜è®¾å¤‡çš„è½»é‡çº§åˆ†å¸ƒå¼è½¯ä»¶æ¡†æ¶ï¼Œç”¨æœ€å°çš„è¿è¡Œæ—¶æˆæœ¬ï¼ŒæŠŠå¤šä¸ªåŠŸèƒ½èŠ‚ç‚¹â€œç‚¹ç‡ƒâ€ä¸ºä¸€ä¸ªç³»ç»Ÿã€‚



## å…³äºåå­—

**Ember = ä½™çƒ¬ / ç«ç§**

ä¸æˆ‘ä»¬çš„è®¾è®¡ç†å¿µç›¸å¥‘åˆï¼š

- è½»é‡çº§
- åˆ†å¸ƒå¼
- æ¯ä¸ªèŠ‚ç‚¹åƒä¸€ç²’ç«ç§
- ç»„åˆåœ¨ä¸€èµ·ï¼Œç‚¹ç‡ƒä¸€ä¸ªç³»ç»Ÿ
- å¯æ‰©å±•ã€å¯ä¼ æ’­ã€å¯æ¼”åŒ–



## è®¾è®¡å“²å­¦

### 1. Ember First

- æ¯ä¸ªåŠŸèƒ½éƒ½æ˜¯ä¸€ä¸ª **Ember**
- å•ä¸ª Emberï¼š
  - å¯ç‹¬ç«‹è¿è¡Œ
  - å¯ç‹¬ç«‹æµ‹è¯•
  - å¯è¢«ç»„åˆ
- **ç³»ç»Ÿ = Ember çš„ç»„åˆï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå·¨å‹è¿›ç¨‹**

### 2. åµŒå…¥å¼ç°å®ä¸»ä¹‰

OpenEmber è€ƒè™‘ MCU / SoC èµ„æºæœ‰é™ï¼Œæ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿ / æ²¡æœ‰åŠ¨æ€å†…å­˜ / æ²¡æœ‰ CLIï¼Œä»¥åŠè°ƒè¯•æ‰‹æ®µæœ‰é™ç­‰ç°å®å› ç´ ã€‚

æ‰€ä»¥ï¼š

- **æ²¡æœ‰å¼ºä¾èµ–**
- **æ²¡æœ‰å¿…é¡»çš„åŠ¨æ€å‘ç°**
- **æ²¡æœ‰å¿…é¡»çš„ XML / YAML / DDS**

### 3. åˆ†å¸ƒå¼æ˜¯èƒ½åŠ›ï¼Œè€Œä¸æ˜¯è´Ÿæ‹…

- å•è®¾å¤‡å¯è¿è¡Œ
- å¤šè®¾å¤‡å¯åä½œ
- ç½‘ç»œæ˜¯â€œå¯é€‰å¢å¼ºâ€ï¼Œä¸æ˜¯å‰æ



## æ ¸å¿ƒæ¦‚å¿µæ¨¡å‹

### 1. Emberï¼ˆåŸºæœ¬å•å…ƒï¼‰

Ember = æœ€å°å¯è¿è¡ŒåŠŸèƒ½å•å…ƒ

### 2. Portï¼ˆç«¯å£ï¼Œè€Œä¸æ˜¯ Topicï¼‰

åˆ»æ„ä¸ç”¨ Topicï¼Œè¿™æ˜¯ä¸€ä¸ªæˆ˜ç•¥é€‰æ‹©ã€‚Port æ˜¯ **æ˜¾å¼è¿æ¥**ï¼Œå…¶ç±»å‹åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œå¯é…ç½®ä¸ºï¼š

- åŒè¿›ç¨‹
- è·¨çº¿ç¨‹
- è·¨è®¾å¤‡

### 3. Meshï¼ˆè¿æ¥å›¾ï¼‰

**Mesh = Ember ä¹‹é—´çš„è¿æ¥å…³ç³»**

- é™æ€ Meshï¼ˆç¼–è¯‘æœŸï¼‰
- åŠ¨æ€ Meshï¼ˆè¿è¡ŒæœŸï¼Œå¯é€‰ï¼‰

Mesh æœ¬è´¨æ˜¯ï¼š

```c
struct ember_link {
    ember_port_t *from;
    ember_port_t *to;
};
```

### 4. Runtimeï¼ˆæå°è¿è¡Œæ—¶ï¼‰

OpenEmber Runtime åªåšä¸‰ä»¶äº‹ï¼š

1. ç®¡ç† Ember ç”Ÿå‘½å‘¨æœŸ
2. ç®¡ç† Port æ•°æ®æµ
3. æä¾›å¯é€‰é€šä¿¡åç«¯



## è„šæ‰‹æ¶å·¥å…·

### ä¸¤ç§ä½¿ç”¨æ¨¡å¼

#### ğŸ…° æ¨¡å¼ Aï¼šå·¥ç¨‹æ¨¡æ¿æ¨¡å¼ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰

**é€‚ç”¨äººç¾¤**ï¼š

- å­¦ä¹ 
- Demo
- å¿«é€ŸéªŒè¯

```bash
ember new demo --mode template
```

ç”Ÿæˆå†…å®¹ï¼š

```bash
demo/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ ember.yaml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.c
â”‚   â””â”€â”€ demo_ember.c
â””â”€â”€ third_party/
    â””â”€â”€ openember/   # å¯é€‰ï¼švendor copyï¼ˆä¸æ¨èé•¿æœŸï¼‰
```

ç‰¹ç‚¹ï¼š

- å¼€ç®±å³ç”¨
- å¯é€‰ vendor
- **å®˜æ–¹æ˜ç¡®è¯´æ˜ï¼šä¸æ¨èé•¿æœŸäº§å“ä½¿ç”¨**

#### ğŸ…± æ¨¡å¼ Bï¼šåº“æ¨¡å¼ï¼ˆé€‚åˆå®é™…å¼€å‘ï¼‰

**è¿™æ˜¯ä½ ç°åœ¨çœŸæ­£æƒ³è¦çš„é‚£æ¡è·¯ã€‚**

```bash
ember new product --mode lib --lang c
```

ç”Ÿæˆå†…å®¹ï¼š

```bash
product/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ ember.yaml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.c
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ sensor.c
â””â”€â”€ cmake/
    â””â”€â”€ OpenEmber.cmake
```

**è¿™é‡Œæ²¡æœ‰ OpenEmber æºç ã€‚**

### CLI ç¤ºä¾‹

```bash
ember new my_robot --lang c
ember new my_robot --lang cpp
ember new my_device --lang c --profile misra
```

### ç”Ÿæˆçš„ç›®å½•ç»“æ„

#### çº¯ C é¡¹ç›®

```bash
my_device/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ ember.yaml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.c
â”‚   â””â”€â”€ sensor.c
â””â”€â”€ ember/
    â””â”€â”€ openember (submodule or fetchcontent)
```

#### C++ é¡¹ç›®

```bash
my_robot/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ ember.yaml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.cpp
â”‚   â””â”€â”€ controller.cpp
â””â”€â”€ ember/
```